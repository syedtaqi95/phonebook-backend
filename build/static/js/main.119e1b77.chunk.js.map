{"version":3,"sources":["components/Filter.js","components/Form.js","components/Numbers.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","filterName","handleFilterName","value","onChange","Form","props","onSubmit","addNumber","autoFocus","newName","handleNewName","newNumber","handleNewNumber","type","Number","person","deleteNumber","name","number","Numbers","personsToShow","map","Notification","message","notificationType","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilterName","notification","setnotification","setNotificationType","useEffect","PersonsService","initialNumbers","filter","nameLowerCase","toLowerCase","filterNameLower","includes","e","target","preventDefault","newEntry","some","p","prompt","window","confirm","find","returnedPerson","setTimeout","catch","error","console","log","concat","firstChild","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.119e1b77.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filterName, handleFilterName }) => {\r\n    return (\r\n        <div>\r\n        filter shown with <input value={filterName} onChange={handleFilterName} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Form = (props) => {\r\n    return (\r\n        <form onSubmit={props.addNumber}>\r\n            <div>\r\n                name: <input autoFocus value={props.newName} onChange={props.handleNewName} />\r\n                <br />\r\n          number: <input value={props.newNumber} onChange={props.handleNewNumber} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Number = ({ person, deleteNumber }) => {\r\n    return (\r\n        <form onSubmit={deleteNumber}>\r\n            {person.name} {person.number} <button>delete</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst Numbers = ({ personsToShow, deleteNumber }) => {\r\n    return (\r\n        personsToShow.map(person => <Number key={person.name} person={person} deleteNumber={deleteNumber} />)\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst Notification = ({ message, notificationType }) => {\r\n  if (message === null)\r\n    return null\r\n\r\n  return (\r\n    <div className={notificationType}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n\r\n}\r\n\r\nexport default {getAll, create, update, deletePerson}","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Form from './components/Form'\nimport Numbers from './components/Numbers'\nimport Notification from './components/Notification'\nimport PersonsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterName, setFilterName] = useState('')\n  const [notification, setnotification] = useState(null)\n  const [notificationType, setNotificationType] = useState('success')\n\n  const getInitialNumbers = () => {\n    PersonsService\n      .getAll()\n      .then(initialNumbers => {\n        setPersons(initialNumbers)\n      })\n  }\n  useEffect(getInitialNumbers, [])\n\n  const addNumber = (e) => {\n    e.preventDefault()\n    const newEntry = { name: newName, number: newNumber }\n\n    if (persons.some(p => p.name === newName)) {\n      const prompt = `${newName} is already added to phonebook, replace the old number with a new one?`\n      if (window.confirm(prompt)) {\n        const id = persons.find(p => p.name === newName).id\n        PersonsService.update(id, newEntry).then(returnedPerson => {\n          setPersons(persons.map(p => p.id !== id ? p : returnedPerson))\n          setNotificationType('success')\n          setnotification(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setnotification(null)\n          }, 5000)\n        })\n          .catch(error => {\n            console.log(error.response.data)\n            setNotificationType('error')\n            setnotification(`Information of ${newName} has already been removed from server`)\n            setTimeout(() => {\n              setnotification(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.id !== id))\n          })\n        setNewName(\"\")\n        setNewNumber(\"\")\n      }\n    }\n    else {\n      PersonsService\n        .create(newEntry)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName(\"\")\n          setNewNumber(\"\")\n          setNotificationType('success')\n          setnotification(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n            setnotification(null)\n          }, 5000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setNotificationType('error')\n          setnotification(`Person validation failed.`)\n            setTimeout(() => {\n              setnotification(null)\n            }, 5000)\n        })\n    }\n  }\n\n  const deleteNumber = (e) => {\n    e.preventDefault()\n    const name = e.target.firstChild.data\n    const id = persons.find((p) => p.name === name).id\n\n    if (window.confirm(`Delete ${name}?`)) {\n      PersonsService.deletePerson(id).then(() => {\n        setPersons(persons.filter(p => p.id !== id))\n      })\n        .catch(error => {\n          console.log('could not delete number as it doesn\\'t exist')\n        })\n    }\n  }\n\n  const handleNewName = (e) => setNewName(e.target.value)\n  const handleNewNumber = (e) => setNewNumber(e.target.value)\n  const handleFilterName = (e) => setFilterName(e.target.value)\n\n  const personsToShow = (filterName === \"\")\n    ? [...persons]\n    : persons.filter((person) => {\n      const nameLowerCase = person.name.toLowerCase()\n      const filterNameLower = filterName.toLowerCase()\n      return nameLowerCase.includes(filterNameLower)\n    })\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} notificationType={notificationType} />\n      <Filter filterName={filterName} handleFilterName={handleFilterName} />\n      <h2>add a new</h2>\n      <Form addNumber={addNumber} newName={newName} handleNewName={handleNewName}\n        newNumber={newNumber} handleNewNumber={handleNewNumber} />\n      <h2>Numbers</h2>\n      <Numbers personsToShow={personsToShow} deleteNumber={deleteNumber} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}